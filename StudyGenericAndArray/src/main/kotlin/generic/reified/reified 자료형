reified 자료형

reified는 우리말로 '구체화된'이란 뜻을 가지고 있다.

fun <T> myGenericFun(c: Class<T>)
이것은 일반적인 제네릭 함수이다.
여기서 T 자료형은 자바처럼 실행 시간에 삭제되기 때문에 T 자체에 그대로 접근할 수 없다.
<T>처럼 결정되지 않은 제네릭 자료형은 컴파일 시간에는 접근 가능하나 함수 내부에서 사용하려면 위의 코드에서
함수의 매개변수를 넣어 c: Class<T>처럼 지정해야만 실행 시간에 사라지지 않고 접근할 수 있다.
그러면 매개변수로 지정하지 않고 형식 매개변수를 직접 접근할 방법은?

만약에 reified로 형식 매개변수 T를 지정하면 실행 시간에 접근할 수 있게 된다.
매개변수에 c를 선언해 Class<T> 형태로 넘기지 않아도 된다.
다음과 같이 지정하면 T는 일반 클래스처럼 사용할 수 있게 된다.

inline fun <reified T> myGenericFun()

하지만 reified 자료형은 인라인 함수에서만 사용할 수 있다.
이 함수가 호출되면 본문 코드 내용은 호출되는 곳 어디든 복사되어 들어가게 된다.
이때 reified T 자료형은 컴파일러가 복사해 넣을 때 실제 자료형을 알 수 있기 때문에
실행 시간에도 사용할 수 있게 된다.

